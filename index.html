<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>KwikTask</title>
    
    <!-- Google AdSense - your existing client ID -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9621027812053080" crossorigin="anonymous"></script>
    
    <!-- Stripe.js for subscriptions -->
    <script src="https://js.stripe.com/v3/"></script>
    
    <!-- Fonts & Icons - modern, minimal -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">

    <!-- STRIPE -->
    <script src="https://js.stripe.com/v3/"></script>

    <!-- AUTH -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
        import { getAuth } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

        const firebaseConfig = {
        apiKey: "AIzaSyBxp7N-ozFLbK-o2GX13vBjby6a9CfaAww",
        authDomain: "kwiktask-a454c.firebaseapp.com",
        projectId: "kwiktask-a454c",
        storageBucket: "kwiktask-a454c.firebasestorage.app",
        messagingSenderId: "527340121540",
        appId: "1:527340121540:web:c74f0773f60b5e1fc98891",
        measurementId: "G-V6DMGJ1Y3B"
        };

        const app = initializeApp(firebaseConfig);
        window.auth = getAuth(app);
        window.db = getFirestore(app);
    </script>
</head>
<body>
    <div class="app-container">
        <!-- Header with pro status -->
        <div class="header">
            <span class="logo-text">kwiktask</span>
            <div class="header-right">
                <div class="streak-badge">
                    <i class="fas fa-bolt"></i>
                    <span>4 day streak</span>
                </div>
                <div class="pro-badge" id="proBadge" style="display: none;">
                    <i class="fas fa-crown"></i>
                    <span>pro</span>
                </div>
                <button class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>logout</span>
                </button>
            </div>
        </div>

        <!-- Main content -->
        <div class="main-content">
            <!-- Hero section with pro CTA for free users -->
            <div class="hero">
                <h1>clear your mind,<br>one task at a time</h1>
                <p class="subtitle">the minimalist task manager for focused people</p>
                <div class="free-tier-indicator" id="freeTierIndicator">
                    <span class="free-badge">free plan</span>
                    <span class="task-limit-indicator" id="taskLimitIndicator">0/5 tasks</span>
                </div>
            </div>

            <!-- Task input - clean and focused -->
            <div class="task-input-container">
                <form id="todo-form">
                    <input id="todo-input" type="text" placeholder="write a task..." autocomplete="off">
                    <button id="add-button" type="submit">
                        <i class="fas fa-plus"></i>
                    </button>
                </form>
            </div>

            <!-- Task list -->
            <div class="task-section">
                <div class="section-label">
                    <span>today's tasks</span>
                    <span class="task-count" id="taskCount">0 tasks</span>
                </div>
                <ul id="todo-list" class="todo-list">
                    <!-- tasks injected via JS -->
                </ul>
                
                <!-- Upgrade prompt for free users when approaching limit -->
                <div class="upgrade-prompt" id="upgradePrompt" style="display: none;">
                    <div class="upgrade-content">
                        <i class="fas fa-lock"></i>
                        <span>you've reached the free limit</span>
                    </div>
                    <button class="upgrade-prompt-btn" id="upgradePromptBtn">upgrade to pro â†’</button>
                </div>
            </div>

            <!-- AdSense native ad unit - only for free users -->
            <div class="ad-unit" id="adUnit">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-9621027812053080"
                     data-ad-slot="1234567890"
                     data-ad-format="horizontal"
                     data-full-width-responsive="true"></ins>
            </div>

            <!-- Premium subscription card - show upgrade options -->
            <div class="premium-container" id="premiumContainer">
                <div class="monet-card premium" id="premiumCard">
                    <div class="card-icon">
                        <i class="fas fa-crown"></i>
                    </div>
                    <div class="card-content">
                        <h3>kwiktask pro</h3>
                        <p>unlimited tasks Â· analytics Â· no ads</p>
                        <div class="feature-comparison">
                            <div class="feature free">
                                <span>free</span>
                                <ul>
                                    <li><i class="fas fa-check"></i> 5 tasks max</li>
                                    <li><i class="fas fa-check"></i> basic checklists</li>
                                    <li><i class="fas fa-ban"></i> ads supported</li>
                                </ul>
                            </div>
                            <div class="feature pro">
                                <span>pro</span>
                                <ul>
                                    <li><i class="fas fa-check"></i> unlimited tasks</li>
                                    <li><i class="fas fa-check"></i> advanced analytics</li>
                                    <li><i class="fas fa-check"></i> no ads</li>
                                    <li><i class="fas fa-check"></i> export data</li>
                                    <li><i class="fas fa-check"></i> priority support</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <button class="card-action premium-btn" id="subscribeBtn">
                        upgrade now â€¢ $4.99/mo
                    </button>
                </div>
            </div>

            <!-- Referral section
            <div class="referral-section" id="referralBtn">
                <div class="referral-content">
                    <i class="fas fa-user-plus"></i>
                    <span>invite a friend â€” both get 1 month free pro</span>
                </div>
                <button class="referral-action">share</button>
            </div>
        </div> -->

        <!-- Footer -->
        <div class="footer">
            <span>Â© kwiktask 2026</span>
            <span class="dot">Â·</span>
            <span>v2.0 freemium</span>
        </div>
    </div>

    <!-- Stripe subscription modal -->
    <div class="modal" id="stripeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>âœ¨ upgrade to kwiktask pro</h2>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="plan-details">
                    <div class="plan-price">
                        <span class="price">$4.99</span>
                        <span class="period">/month</span>
                    </div>
                    <ul class="plan-features">
                        <li><i class="fas fa-check"></i> unlimited tasks (free: 5 max)</li>
                        <li><i class="fas fa-check"></i> advanced analytics & insights</li>
                        <li><i class="fas fa-check"></i> export to CSV/PDF</li>
                        <li><i class="fas fa-check"></i> no advertisements</li>
                        <li><i class="fas fa-check"></i> priority email support</li>
                        <li><i class="fas fa-check"></i> dark mode (coming soon)</li>
                    </ul>
                </div>
                <button class="stripe-button" id="stripeCheckoutBtn">
                    <i class="fab fa-stripe"></i> subscribe now
                </button>
                <p class="secure-note">
                    <i class="fas fa-lock"></i> secure payment Â· cancel anytime
                </p>
                <p class="money-back">
                    14-day money-back guarantee
                </p>
            </div>
        </div>
    </div>

    <!-- Success modal (shown after upgrade) -->
    <div class="modal" id="successModal">
        <div class="modal-content success-content">
            <div class="modal-header">
                <h2>ðŸŽ‰ welcome to pro!</h2>
                <button class="modal-close" id="closeSuccessModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="success-icon">
                    <i class="fas fa-crown"></i>
                </div>
                <p class="success-message">you now have unlimited tasks and zero ads.</p>
                <button class="success-btn" id="continueBtn">continue to tasks</button>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>